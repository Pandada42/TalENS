% $Id: latex.sty,v 1.4 2007-10-08 12:23:23 pierre Exp $

\RequirePackage{listings}

\lstset{showstringspaces=false}

\newcommand{\latex}[1][]{\lstinline[language={[LaTeX]TeX},emph={#1}]}
\lstnewenvironment{latexblock}[1][]{\lstset{columns=flexible,language=[LaTeX]TeX,emph={#1}}}{}

\ifdefined\beamerboxesrounded
\definecolor{mygray}{gray}{0.90}
\definecolor{mygreen}{rgb}{0,0.5,0}
\definecolor{maroon}{rgb}{0.5,0,0}
\lstset{emphstyle=\color{alert},basicstyle=\small\ttfamily,stringstyle=\color{mygreen},keywordstyle=\color{structure.fg},commentstyle=\color{maroon}\itshape,backgroundcolor=\color{mygray}}
\let\oldlatex\latex
\renewcommand{\latex}[1]{\colorbox{mygray}{\oldlatex{#1}}}
\fi
